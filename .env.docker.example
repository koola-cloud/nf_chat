# HuLa Docker Compose 環境變量範本
# 複製此文件為 .env，並根據實際環境修改

# ========== 資料庫配置 ==========
# MySQL 連接字符串
# 格式: mysql://username:password@host:port/database
# 本地 Docker：mysql://hula_user:hula_password@mysql:3306/hula_db
# 遠程主機：mysql://hula_user:hula_password@192.168.1.100:3306/hula_db
DATABASE_URL=mysql://hula_user:hula_password@mysql:3306/hula_db

# MySQL Root 密碼（僅在使用 docker-compose 中的 MySQL 時需要）
MYSQL_ROOT_PASSWORD=root_password

# MySQL 用戶
MYSQL_USER=hula_user

# MySQL 用戶密碼
MYSQL_PASSWORD=hula_password

# MySQL 數據庫
MYSQL_DATABASE=hula_db

# ========== Redis 配置 ==========
# Redis 連接字符串
# 格式: redis://[:password]@host:port/db
# 本地 Docker：redis://:@redis:6379/0
# 遠程主機：redis://:@192.168.1.100:6379/0
# 帶密碼：redis://:your_password@redis:6379/0
REDIS_URL=redis://:@redis:6379/0

# ========== 後端服務配置 ==========
# 服務綁定主機（通常為 0.0.0.0）
SERVICE_HOST=0.0.0.0

# 服務端口
SERVICE_PORT=8080

# 外部訪問 URL（客戶端用）
# 本地：http://localhost:8080
# 域名：https://api.example.com
SERVICE_URL=http://localhost:8080

# ========== WebSocket 配置 ==========
# WebSocket 外部 URL（客戶端用）
# 本地：ws://localhost:8080/ws
# 域名：wss://api.example.com/ws
WS_URL=ws://localhost:8080/ws

# ========== 日誌配置 ==========
# 日誌級別：trace, debug, info, warn, error
LOG_LEVEL=info

# Rust 日誌環境變量
RUST_LOG=info

# ========== 安全配置 ==========
# JWT 密鑰（改成強密鑰！）
JWT_SECRET=your-super-secret-key-change-me-in-production

# CORS 允許的來源（逗號分隔）
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://example.com

# 允許的主機（Host 頭驗證）
ALLOWED_HOSTS=localhost,example.com

# ========== 性能配置 ==========
# 工作線程數
WORKERS=4

# 請求超時時間（秒）
TIMEOUT=30

# 連接池大小
CONNECTION_POOL_SIZE=10

# ========== 環境設置 ==========
# 運行環境：development, staging, production
NODE_ENV=production

# ========== 文件上傳配置 ==========
# 最大上傳文件大小（MB）
MAX_FILE_SIZE=100

# 上傳文件保存目錄
UPLOAD_DIR=/app/data/uploads

# ========== 郵件配置（可選）==========
# SMTP 服務器
SMTP_HOST=smtp.gmail.com

# SMTP 端口
SMTP_PORT=587

# SMTP 用戶名
SMTP_USER=your-email@gmail.com

# SMTP 密碼
SMTP_PASSWORD=your-app-password

# 郵件發送者地址
MAIL_FROM=noreply@example.com

# ========== 第三方服務配置（根據需要）==========
# 有道翻譯 AppKey（如果使用翻譯功能）
YOUDAO_APP_KEY=your-app-key

# 有道翻譯 AppSecret
YOUDAO_APP_SECRET=your-app-secret

# 騰訊雲 API 配置（如果使用騰訊雲服務）
TENCENT_SECRET_ID=your-secret-id

# 騰訊雲 API Secret
TENCENT_SECRET_KEY=your-secret-key

# ========== ICE 服務器配置（WebRTC）==========
# STUN/TURN 服務器 URL
ICE_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# TURN 服務器用戶名
TURN_USERNAME=

# TURN 服務器密碼
TURN_PASSWORD=

# ========== Docker 構建配置 ==========
# Rust 版本
RUST_VERSION=1.75

# 構建配置：release 或 debug
RUST_PROFILE=release

# Node 版本（如果需要）
NODE_VERSION=22

# ========== Nginx 配置 ==========
# Nginx 工作進程數
NGINX_WORKER_PROCESSES=auto

# Nginx 最大連接數
NGINX_WORKER_CONNECTIONS=2048

# ========== 開發調試（僅用於開發）==========
# 調試模式
DEBUG=false

# 詳細日誌
VERBOSE_LOG=false

# 允許訪問的調試端點
DEBUG_ENDPOINTS=/debug,/metrics,/health/verbose

# ========== 其他配置 ==========
# 應用名稱
APP_NAME=HuLa

# 應用版本
APP_VERSION=3.0.4

# 公司名稱
COMPANY_NAME=HuLa

# 支持郵箱
SUPPORT_EMAIL=support@example.com

# 文檔 URL
DOCS_URL=https://docs.example.com

# 主頁 URL
HOMEPAGE_URL=https://example.com
